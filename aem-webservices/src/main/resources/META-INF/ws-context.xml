<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:jaxrs="http://cxf.apache.org/jaxrs"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
                           http://cxf.apache.org/jaxrs
                           http://cxf.apache.org/schemas/jaxrs.xsd">

    <import resource="classpath*:META-INF/cxf/cxf.xml"/>
    <import resource="classpath*:META-INF/service-context.xml"/>

    <bean id="jvmServiceRest" class="com.siemens.cto.aem.ws.rest.v1.service.jvm.impl.JvmServiceRestImpl">
        <constructor-arg ref="jvmService"/>
    </bean>

    <bean id="groupServiceRest" class="com.siemens.cto.aem.ws.rest.v1.service.group.impl.GroupServiceRestImpl">
        <constructor-arg ref="groupService"/>
    </bean>

    <bean id="jsonProvider" class="org.codehaus.jackson.jaxrs.JacksonJsonProvider"/>

    <bean id="notFoundExceptionMapper" class="com.siemens.cto.aem.ws.rest.v1.exceptionmapper.NotFoundExceptionMapper"/>
    <bean id="badRequestExceptionMapper" class="com.siemens.cto.aem.ws.rest.v1.exceptionmapper.BadRequestExceptionMapper"/>

    <jaxrs:server address="/">
        <jaxrs:providers>
            <ref bean="jsonProvider"/>
            <ref bean="notFoundExceptionMapper"/>
            <ref bean="badRequestExceptionMapper"/>
        </jaxrs:providers>
        <jaxrs:serviceBeans>
            <ref bean="jvmServiceRest"/>
            <ref bean="groupServiceRest"/>
        </jaxrs:serviceBeans>
    </jaxrs:server>

</beans>